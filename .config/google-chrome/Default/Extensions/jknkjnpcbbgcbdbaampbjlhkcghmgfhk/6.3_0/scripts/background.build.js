var vb=vb||{};vb.background=function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=144)}({144:function(e,t,n){"use strict";function o(){c.i(function(e){i(e.tools.pageAction),r(e.tools.contextMenu&&!e.security.password)})}function i(e){e?chrome.browserAction.enable():chrome.browserAction.disable()}function r(e){chrome.contextMenus.update("video_blocker_context_menu",{enabled:e})}Object.defineProperty(t,"__esModule",{value:!0});var c=n(3);chrome.contextMenus.removeAll(function(){chrome.contextMenus.create({id:"video_blocker_context_menu",title:chrome.i18n.getMessage("context_menu"),contexts:["link"],targetUrlPatterns:["*://*.youtube.com/watch*","*://*.youtube.com/user/*","*://*.youtube.com/channel/*"]})}),o(),chrome.runtime.onInstalled.addListener(function(e){"update"===e.reason?c.f(e.previousVersion,o):"install"===e.reason&&c.e(o)}),chrome.runtime.onMessage.addListener(function(e,t,n){switch(e.name){case"settingsUpdated":o();break;case"itemsUpdated":chrome.tabs.executeScript(null,{code:"vb.contentScript.hideVideos(true);"});break;case"extensionUpdated":chrome.tabs.create({url:chrome.extension.getURL("views/Options.html")+"#HelpUpdated"},function(){c.k("version","updated",!1,function(){c.k("version","timestamp",Date.now())})});break;case"extensionInstalled":chrome.tabs.create({url:chrome.extension.getURL("views/Options.html")+"#HelpInstalled"},function(){c.k("version","installed",!1,function(){c.k("version","timestamp",Date.now())})});break;case"extensionThanks":chrome.tabs.create({url:chrome.extension.getURL("views/Options.html")+"#HelpThanks"},function(){c.k("version","timestamp",Date.now())})}return!0}),chrome.contextMenus.onClicked.addListener(function(e,t){chrome.tabs.sendMessage(t.id,{name:"contextMenuClicked"})})},3:function(e,t,n){"use strict";function o(e){s(g,e),f(b)}function i(e,t){chrome.storage.local.get(function(n){if(void 0===n.settings)s(g,t);else if(e<"6.0"){var o=g;o.tools.redirect=n.settings.redirect,o.tools.pageAction=n.settings.enableicon,o.security.password=n.settings.password,o.version.number=chrome.runtime.getManifest().version,o.version.updated=!0,o.version.installed=!1,s(o,t)}else{var i=n.settings;i.version.updated=!0,s(i,t)}void 0===n.blocklist&&void 0!==n.channels&&f(n.channels)})}function r(e){chrome.storage.local.get("settings",function(t){e(t.settings)})}function c(e,t,n){r(function(o){n(void 0===o[e]?void 0:o[e][t])})}function s(e,t){chrome.storage.local.set({settings:e},function(){chrome.runtime.sendMessage({name:"settingsUpdated"}),t&&t()})}function a(e,t,n,o){r(function(i){void 0===i[e]&&(i[e]={}),i[e][t]=n,s(i,o)})}function u(e){c("storage","sync",function(t){var n=void 0;n=t?chrome.storage.sync:chrome.storage.local,e(n)})}function l(e,t,n){d(function(o){var i=o;a("storage","sync",e,function(){if(e)switch(t){case"merge":p(i,function(e){e?n(!0):a("storage","sync",!1,function(){n(!1)})});break;case"sync":n(!0);break;case"local":f(i,function(e){e?n(!0):a("storage","sync",!1,function(){n(!1)})})}else f(i,function(e){e?n(!0):a("storage","sync",!1,function(){n(!1)})})})})}function d(e){u(function(t){t.get("blocklist",function(t){void 0===t.blocklist&&(t.blocklist=[]),e(t.blocklist)})})}function f(e,t){u(function(n){n.set({blocklist:e},function(){chrome.runtime.sendMessage({name:"itemsUpdated"});var e=!0;void 0!==chrome.runtime.lastError&&chrome.runtime.lastError&&"QUOTA_BYTES_PER_ITEM quota exceeded"===chrome.runtime.lastError.message&&(e=!1),t&&t(e)})})}function m(e,t){d(function(n){""!==e.key&&""!==e.type&&-1===n.findIndex(function(t){return t.key===e.key&&t.type===e.type})&&n.unshift(e),f(n,t)})}function p(e,t){d(function(n){var o=!0,i=!1,r=void 0;try{for(var c,s=e[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var a=c.value;!function(e){""!==e.key&&""!==e.type&&-1===n.findIndex(function(t){return t.key===e.key&&t.type===e.type})&&n.unshift(e)}(a)}}catch(e){i=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}f(n,t)})}function v(e,t){d(function(n){var o=n.findIndex(function(t){return t.key===e.key&&t.type===e.type});""!==e.key&&""!==e.type&&o>-1&&n.splice(o,1),f(n,t)})}function h(e){f([],e)}t.e=o,t.f=i,t.i=r,t.h=c,t.k=a,t.j=l,t.g=d,t.a=m,t.b=p,t.d=v,t.c=h;var g={version:{number:chrome.runtime.getManifest().version,updated:!1,installed:!0,timestamp:Date.now()},storage:{sync:!1},security:{password:""},tools:{pageAction:!0,contextMenu:!0,redirect:!0}},b=[]}});